## DNS 服务器

![](https://blog-1252173264.cos.ap-shanghai.myqcloud.com/1650370999490-d905835a-639b-4073-aa23-33afe3015945.png)

- 根 DNS 服务器 ：返回顶级域 DNS 服务器的 IP 地址
- 顶级域 DNS 服务器：返回权威 DNS 服务器的 IP 地址
- 权威 DNS 服务器 ：返回相应主机的 IP 地址

## DNS 解析流程

1. 电脑客户端发出一个 DNS 请求到本地域名服务器 (本地 DNS)。
2. 本地 DNS 收到来自客户端的请求。如果能找到就直接返回 IP 地址。如果没有，本地 DNS 会去问它的根域名服务器。
3. 根 DNS 收到来自本地 DNS 的请求，回复顶级域名服务器的地址。
4. 本地 DNS 转向问顶级域名服务器。
5. 顶级域名服务器回复区域的权威 DNS 服务器的地址。
6. 本地 DNS 转向问权威 DNS 服务器。
7. 权威 DNS 服务器查询后将对应的 IP 地址 X.X.X.X 告诉本地 DNS。
8. 本地 DNS 再将 IP 地址返回客户端，客户端和目标建立连接。

![](https://blog-1252173264.cos.ap-shanghai.myqcloud.com/1650371798661-5a1cdbde-f711-4887-b844-3b3ded5f5de9.png)

## 负载均衡

### 内部负载均衡

部署多个应用，配置成为域名。在域名解析的时候配置策略，实现负载均衡。

### 全局负载均衡

更新对应的 IP 地址

根据区域自动切换 IP 地址

![](https://blog-1252173264.cos.ap-shanghai.myqcloud.com/1650372127824-a6453553-da37-42fb-ba1d-0777ead375e3.png)
