## 文件系统的功能规划

1. 文件系统要有严格的组织形式，使得文件能够以块为单位进行存储
2. 文件系统中也要有索引区，用来方便查找一个文件分成的多个块都存放在了什么位置
3. 如果文件系统中有的文件是热点文件，近期经常被读取和写入，文件系统应该有缓存层
4. 文件应该用文件夹的形式组织起来，方便管理和查询![](https://blog-1252173264.cos.ap-shanghai.myqcloud.com/1649494715237-061e2a1b-44d5-4c65-a995-dedd2ad5c735.png)
5. Linux 内核要在自己的内存里面维护一套数据结构，来保存哪些文件被哪些进程打开和使用

## 文件系统相关命令行

格式化：将一块盘使用命令组织成一定格式的文件系统的过程。

```bash
fdisk -l
mkfs.ext4 /dev/vdc
```

## 文件系统相关系统调用

Open 函数：

- O_CREAT 表示当文件不存在，创建一个新文件；
- O_RDWR 表示以读写方式打开；
- O_TRUNC 表示打开文件后，将文件的长度截断为 0。
